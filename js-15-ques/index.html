<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JavaScript Practice – Full Code</title>
</head>
<body>

  <h2>JavaScript Practice – Open Console</h2>

  <button onclick="callStackExample()">1. Call Stack Example</button>
  <button onclick="addItem()">14. Add List Item</button>

  <ul id="list"></ul>

  <form id="myForm">
    <input type="text" id="inputText" placeholder="Enter something">
    <button type="submit">Submit</button>
  </form>

<script>
/* =====================================================
1. CALL STACK, CALLBACK QUEUE & EVENT LOOP
===================================================== */
function callStackExample() {
  console.log("Start");

  setTimeout(() => {
    console.log("Async Task");
  }, 0);

  console.log("End");
}

/* =====================================================
2. CALLBACK QUEUE (setTimeout 0ms)
===================================================== */
console.log("Main Content Loaded");

setTimeout(() => {
  console.log("Ads Loaded");
}, 0);

/* =====================================================
3. JSON.parse()
===================================================== */
const apiResponse = '{"id":101,"name":"Laptop","price":50000}';
const product = JSON.parse(apiResponse);
console.log("Product Name:", product.name);

/* =====================================================
4. JSON.stringify()
===================================================== */
const user = { username: "admin", role: "manager" };
const userJSON = JSON.stringify(user);
console.log("User JSON:", userJSON);

/* =====================================================
5. Array forEach()
===================================================== */
const users = ["Amit", "Ravi", "Neha"];
users.forEach(user => {
  console.log("Welcome", user);
});

/* =====================================================
6. Array map()
===================================================== */
const prices = [1000, 2000, 3000];
const discountedPrices = prices.map(price => price - price * 0.10);
console.log("Discounted Prices:", discountedPrices);

/* =====================================================
7. Array filter()
===================================================== */
const products = [
  { name: "Phone", inStock: true },
  { name: "Laptop", inStock: false },
  { name: "Tablet", inStock: true }
];

const availableProducts = products.filter(p => p.inStock);
console.log("Available Products:", availableProducts);

/* =====================================================
8. Array reduce()
===================================================== */
const cart = [500, 1000, 1500];
const totalAmount = cart.reduce((sum, price) => sum + price, 0);
console.log("Cart Total:", totalAmount);

/* =====================================================
9. FUNCTION DECLARATION vs ARROW FUNCTION
===================================================== */
function calculateGST1(amount) {
  return amount * 0.18;
}

const calculateGST2 = amount => amount * 0.18;

console.log("GST Normal:", calculateGST1(1000));
console.log("GST Arrow:", calculateGST2(1000));

/* =====================================================
10. CLOSURE – SECURE COUNTER
===================================================== */
function createCounter() {
  let count = 0;
  return function () {
    count++;
    return count;
  };
}

const counter = createCounter();
console.log(counter());
console.log(counter());

/* =====================================================
11. CALLBACK FUNCTION – LOGIN VALIDATION
===================================================== */
function validateUser(username, callback) {
  if (username === "admin") {
    callback("Login Successful");
  } else {
    callback("Login Failed");
  }
}

validateUser("admin", message => console.log(message));

/* =====================================================
12. CALLBACK HELL EXAMPLE
===================================================== */
function validate(callback) {
  callback();
}
function payment(callback) {
  callback();
}
function invoice(callback) {
  callback();
}

validate(() => {
  payment(() => {
    invoice(() => {
      console.log("Payment Process Completed");
    });
  });
});

/* =====================================================
13. ASYNC / AWAIT
===================================================== */
async function fetchData() {
  try {
    const response = await fetch("https://jsonplaceholder.typicode.com/users");
    const data = await response.json();
    console.log("Fetched Data:", data);
  } catch (error) {
    console.log("Error:", error);
  }
}
fetchData();

/* =====================================================
14. DOM MANIPULATION – ADD LIST ITEM
===================================================== */
function addItem() {
  const li = document.createElement("li");
  li.innerText = "New Item Added";
  document.getElementById("list").appendChild(li);
}

/* =====================================================
15. EVENT LISTENER – FORM VALIDATION
===================================================== */
document.getElementById("myForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const value = document.getElementById("inputText").value;
  if (value === "") {
    alert("Input is required");
  } else {
    alert("Form Submitted");
  }
});
</script>

</body>
</html>
